import{d as C,i as w,F as n,k as y,l as f,b as m,o as S,c as A,f as l,w as o,m as k,u as p,n as x,e as v,h as D,s as L,p as O,g as $,_ as R}from"./index-a031bde1.js";import{u as F}from"./useDataTable-53f06a11.js";const I=i=>(O("data-v-a7178dc4"),i=i(),$(),i),M={class:"card"},B={class:"datatable-header"},j=I(()=>v("h5",null,"Мои заказы",-1)),E={class:"p-input-icon-left"},Q=I(()=>v("i",{class:"pi pi-search"},null,-1)),q=C({__name:"order-list",setup(i){const h=w(),{tableData:_,filters:d,dataTableRef:b,exportCSV:z}=F();d.value={global:{value:null,matchMode:n.CONTAINS},id:{value:null,matchMode:n.CONTAINS},status:{value:null,matchMode:n.EQUALS},count:{value:null,matchMode:n.CONTAINS},price:{value:null,matchMode:n.CONTAINS},description:{value:null,matchMode:n.CONTAINS},adminPrice:{value:null,matchMode:n.CONTAINS},sellPrice:{value:null,matchMode:n.CONTAINS},changedAt:{value:null,matchMode:n.CONTAINS}};async function N(){const r=await fetch("/data/my-orders.json").then(c=>c.json());_.value=r}y(async()=>{await h.$load({name:"app-data"}).catch(r=>f.error(r)),f.debug(h.products),N(),f.debug(_)});const T={globalFilterFields:["id","status","count","price","description","adminPrice","sellPrice","changedAt"],filterDisplay:"row",stripedRows:!0,paginator:!0,rows:10,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[10,20,50],currentPageReportTemplate:"Показаны записи с {first} по {last}. Всего: {totalRecords}"},P=["Отказано","Реализован","Ожидание товара","Создан"],V=r=>{switch(r){case"Отказано":return"danger";case"Реализован":return"success";case"Ожидание товара":return"warning";default:return"info"}};return(r,c)=>{const u=m("InputText"),s=m("Column"),g=m("Tag"),U=m("Dropdown");return S(),A("div",M,[l(p(L),k({ref_key:"dataTableRef",ref:b,filters:p(d),"onUpdate:filters":c[1]||(c[1]=e=>x(d)?d.value=e:null),value:p(_),"data-key":"name",class:"p-datatable-sm"},T),{header:o(()=>[v("div",B,[j,v("span",E,[Q,l(u,{modelValue:p(d).global.value,"onUpdate:modelValue":c[0]||(c[0]=e=>p(d).global.value=e),placeholder:"Поиск"},null,8,["modelValue"])])])]),empty:o(()=>[D(" Записи не найдены ")]),default:o(()=>[l(s,{field:"id",header:"ID",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"status",header:"Статус",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(U,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onChange:a=>t(),options:P,class:"p-column-filter",style:{"min-width":"12rem"},showClear:!0},{option:o(a=>[l(g,{value:a.option,severity:V(a.option)},null,8,["value","severity"])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),body:o(({data:e})=>[l(g,{value:e.status,severity:V(e.status)},null,8,["value","severity"])]),_:1}),l(s,{field:"count",header:"Кол-во",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"price",header:"Цена",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"description",header:"Описание",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"adminPrice",header:"Цена админ",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"sellPrice",header:"Цена продажи",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(s,{field:"changedAt",header:"Изменено",sortable:!0},{filter:o(({filterModel:e,filterCallback:t})=>[l(u,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,onInput:a=>t(),class:"p-column-filter"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1})]),_:1},16,["filters","value"])])}}});const J=R(q,[["__scopeId","data-v-a7178dc4"]]);export{J as default};
